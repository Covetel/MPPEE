bundle agent dnsmasq {

vars:
    #Read configuration file
    "match" int => readstringarray("var","$(sys.workdir)/inputs/MPPEE/cfengine/servers_hostname.txt","\s*#[^\n]*"," = ",80,8000);

    #External DNS Variables
    "hostname_internal_dns" string => "$(var[internal_dns][1])";

    "prefix" string => "/etc";
    "desired_packages" slist => { "dnsmasq" };

    # Variables for /etc/resolv.conf
    "resolv" string => "nameserver 127.0.0.1";

    # Variables for /etc/dnsmasq.conf file
    "dnsmasq[user]" string => "root";

    # Variables for /etc/dnsmasq.d/settings.conf
    "settings" string => "cache-size=10000
expand-hosts
log-queries
resolv-file=/etc/forwarders.conf";

    # Variables for /etc/forwarders.conf
    "forwarders" string => "nameserver 208.67.222.222";

    # Template for /etc/hosts file
    "hosts" slist => {
"10.1.120.46 sucre.fundelec.gob.ve sucre",
"10.1.5.181 gestiondocumental.mppee.gob.ve gestiondocumental",
"10.1.5.244 proyectogeneracion.mppee.gob.ve proyectogeneracion",
"10.79.6.100 sigecof.mppee.gob.ve sigecof",
"10.200.87.193 sigefirrhh.mppee.gob.ve sigefirrhh",
"10.200.192.2 sise.mppee.gob.ve sise",
"10.1.5.180 solicitudconstanciatrabajo.mppee.gob.ve solicitudconstanciatrabajo",
"10.1.5.180 solicitudservicio.mppee.gob.ve solicitudservicio",
"10.200.87.149 sucre.mppee.gob.ve sucre",
"10.200.87.122 webstats.mppee.gob.ve webstats",
"10.200.3.31 eortega.mppee.gob.ve eortega",
"10.200.88.101 bt.mppee.gob.ve bt",
"10.200.88.18 fn.mppee.gob.ve fn",
"10.200.88.3 lto.mppee.gob.ve lto",
"10.200.88.103 pk.mppee.gob.ve pk",
"10.200.88.4 san.mppee.gob.ve san",
"10.200.88.2 swfc.mppee.gob.ve swfc",
"172.20.250.254 core-sw-01.mppee.gob.ve core-sw-01",
"172.20.20.1 efw-01.mppee.gob.ve efw-01",
"10.200.87.122 intranet01.mppee.gob.ve intranet01",
"10.2.31.201 laedc-core-sw-01.mppee.gob.ve laedc-core-sw-01",
"10.2.31.202 laedc-core-sw-02.mppee.gob.ve laedc-core-sw-02",
"10.200.192.2 7o.mppee.gob.ve 7o",
"10.1.5.182  abbeyroad.mppee.gob.ve abbeyroad",
"10.200.87.176 adalbertosantiago.mppee.gob.ve adalbertosantiago",
"10.1.5.15 aharddaysnight.mppee.gob.ve aharddaysnight",
"10.1.5.232 amon.mppee.gob.ve amon",
"10.1.5.175 ampere.mppee.gob.ve ampere",
"10.200.87.170 andymontanez.mppee.gob.ve andymontanez",
"10.200.87.143 animals.mppee.gob.ve animals",
"10.1.5.145 correspondencia.mppee.gob.ve correspondencia",
"10.1.5.145 app.mppee.gob.ve app",
"10.1.5.233 app-dev.mppee.gob.ve app-dev",
"10.200.87.123 apure.mppee.gob.ve apure",
"10.1.5.122 astro.mppee.gob.ve astro",
"10.200.87.153 atomheartmother.mppee.gob.ve atomheartmother",
"10.1.5.220 attractor.mppee.gob.ve attractor",
"10.1.5.235 azazel.mppee.gob.ve azazel",
"10.200.87.101 bacula.mppee.gob.ve bacula",
"10.200.87.101 beatles.mppee.gob.ve beatles",
"10.200.87.109 beatlesforsale.mppee.gob.ve beatlesforsale",
"10.200.87.190 bello.mppee.gob.ve bello",
"10.1.5.231 belphegor.mppee.gob.ve belphegor",
"10.200.87.191 blanco.mppee.gob.ve blanco",
"10.200.87.161 bobbycruz.mppee.gob.ve bobbycruz",
"10.200.87.171 bobbyvalentin.mppee.gob.ve bobbyvalentin",
"10.1.5.104 boo.mppee.gob.ve boo",
"10.1.5.151 cache1.mppee.gob.ve cache1",
"10.1.5.134 smokeping.mppee.gob.ve smokeping",
"10.1.5.134 cacti.mppee.gob.ve cacti",
"10.1.5.215 caos.mppee.gob.ve caos",
"10.200.87.121 caracas.mppee.gob.ve caracas",
"10.1.5.179 charcoil.mppee.gob.ve charcoil",
"10.1.5.135 collector.mppee.gob.ve collector",
"10.1.5.182 concursos.mppee.gob.ve concursos",
"10.200.87.122 congresoureerpp.mppee.gob.ve congresoureerpp",
"10.200.87.173 corpoelecindustrial.mppee.gob.ve corpoelecindustrial",
"10.1.5.121 cosmo.mppee.gob.ve cosmo",
"10.1.5.225 cuantica.mppee.gob.ve cuantica",
"10.200.87.107 cups.mppee.gob.ve cups",
"10.1.5.230 daemons.mppee.gob.ve daemons",
"10.200.87.192 dario.mppee.gob.ve dario",
"10.1.5.202 db.mppee.gob.ve db",
"10.200.87.141 debmirror.mppee.gob.ve debmirror",
"10.1.5.143 dino.mppee.gob.ve dino",
"10.200.87.142 divisionbell.mppee.gob.ve divisionbell",
"10.200.87.146 divisionbell-db.mppee.gob.ve divisionbell-db",
"10.200.87.147 divisionbell-mc.mppee.gob.ve divisionbell-mc",
"10.1.5.243 docs.planta.mppee.gob.ve docs.planta",
"10.1.5.206 documentos.mppee.gob.ve documentos",
"10.1.5.244 dvscse.mppee.gob.ve dvscse",
"10.200.87.152 echoes.mppee.gob.ve echoes",
"10.200.87.163 eddiepalmieri.mppee.gob.ve eddiepalmieri",
"10.1.5.236 einstein.mppee.gob.ve einstein",
"10.1.5.244 elfo.mppee.gob.ve elfo",
"10.1.5.204 extranet.mppee.gob.ve extranet",
"10.200.87.160 fania.mppee.gob.ve fania",
"10.1.5.200 fermat.mppee.gob.ve fermat",
"10.1.5.207 files.mppee.gob.ve files",
"10.1.5.136 flowgraphs.mppee.gob.ve flowgraphs",
"10.1.5.219 fractal.mppee.gob.ve fractal",
"10.1.5.209 git.mppee.gob.ve git",
"10.200.87.161 git-srv.mppee.gob.ve git-srv",
"10.1.5.241 glpi.mppee.gob.ve glpi",
"10.200.87.103 help.mppee.gob.ve help",
"10.200.87.104 help-db.mppee.gob.ve help-db",
"10.200.87.105 help-mc.mppee.gob.ve help-mc",
"10.200.87.151 highhopes.mppee.gob.ve highhopes",
"10.1.5.138 hikoseijuro.mppee.gob.ve hikoseijuro",
"10.1.5.174 intranet.mppee.gob.ve intranet",
"10.1.5.232 jabber.mppee.gob.ve jabber",
"10.200.87.175 jhonnydandy.mppee.gob.ve jhonnydandy",
"10.200.87.169 jimmybosh.mppee.gob.ve jimmybosh",
"10.200.87.172 johnnypacheco.mppee.gob.ve johnnypacheco",
"10.200.3.51 jparedes.mppee.gob.ve jparedes",
"10.200.87.173 justobetancurt.mppee.gob.ve justobetancurt",
"10.1.5.105 kadmin.mppee.gob.ve kadmin",
"10.1.5.105 kdc.mppee.gob.ve kdc",
"10.1.5.217 kolmogorov.mppee.gob.ve kolmogorov",
"10.1.5.105 pla.mppee.gob.ve pla",
"10.1.5.105 ldap01.mppee.gob.ve ldap01",
"10.1.5.122 ldap02.mppee.gob.ve ldap02",
"10.200.87.102 letitbe.mppee.gob.ve letitbe",
"10.1.5.9 lintpc02.mppee.gob.ve lintpc02",
"10.1.5.229 logger.mppee.gob.ve logger",
"10.1.5.218 lorenz.mppee.gob.ve lorenz",
"10.200.87.106 lovemedo.mppee.gob.ve lovemedo",
"10.1.5.234 lucifer.mppee.gob.ve lucifer",
"10.1.5.216 lyapunov.mppee.gob.ve lyapunov",
"10.200.87.102 mail.mppee.gob.ve mail",
"10.200.87.102 imap01.mppee.gob.ve imap01",
"10.200.87.102 smtp01.mppee.gob.ve smtp01",
"10.200.87.102 mailman.mppee.gob.ve mailman",
"10.200.87.102 qgmail.mppee.gob.ve qgmail",
"10.200.87.102 rrd.mppee.gob.ve rrd",
"10.1.5.170 maxwell.mppee.gob.ve maxwell",
"10.2.17.168 mcusds.mppee.gob.ve mcusds",
"10.200.87.102 mda.mppee.gob.ve mda",
"10.200.87.144 meddle.mppee.gob.ve meddle",
"10.200.87.122 merida.mppee.gob.ve merida",
"10.1.5.150 monstersinc.mppee.gob.ve monstersinc",
"10.1.5.232 mppee.gob.ve.amon mppee.gob.ve",
"10.200.87.108 mx01.mppee.gob.ve mx01",
"10.200.87.108 heydue.mppee.gob.ve heydue",
"10.1.5.178 nagios.mppee.gob.ve nagios",
"10.1.5.178 nagvis.mppee.gob.ve nagvis",
"10.1.5.136 netdisco.mppee.gob.ve netdisco",
"10.200.87.161 nfs.mppee.gob.ve nfs",
"10.1.5.241 nibelungo.mppee.gob.ve nibelungo",
"10.200.87.177 nickymarrero.mppee.gob.ve nickymarrero",
"10.1.5.221 nonlinear.mppee.gob.ve nonlinear",
"10.1.5.104 ns1.mppee.gob.ve ns1",
"10.1.5.121 ns2.mppee.gob.ve ns2",
"10.1.5.102 nsext1.mppee.gob.ve nsext1",
"10.1.5.124 nsext2.mppee.gob.ve nsext2",
"10.200.87.169 ntp1.mppee.gob.ve ntp1",
"10.200.87.170 ntp2.mppee.gob.ve ntp2",
"10.1.5.128 observium.mppee.gob.ve observium",
"10.1.5.241 ocs.mppee.gob.ve ocs",
"10.1.5.240 odin.mppee.gob.ve odin",
"10.40.4.22 orinoco1.mppee.gob.ve orinoco1",
"10.40.4.26 orinoco2.mppee.gob.ve orinoco2",
"10.40.4.30 orinoco3.mppee.gob.ve orinoco3",
"10.40.4.34 orinoco4.mppee.gob.ve orinoco4",
"10.40.4.25 sapmsPRD.mppee.gob.ve sapmsPRD",
"10.40.4.25 orinococi.mppee.gob.ve orinococi",
"10.1.5.169 osiris.mppee.gob.ve osiris",
"10.200.87.165 papolucca.mppee.gob.ve papolucca",
"10.1.5.154 picapiedras.mppee.gob.ve picapiedras",
"10.200.87.140 pinkfloyd.mppee.gob.ve pinkfloyd",
"10.1.5.226 planck.mppee.gob.ve planck",
"10.200.87.180 poetas.mppee.gob.ve poetas",
"10.1.5.173 portal-db.mppee.gob.ve portal-db",
"10.1.5.171 portal-dev.mppee.gob.ve portal-dev",
"10.1.5.172 portalweb.mppee.gob.ve portalweb",
"10.200.87.107 printserver.mppee.gob.ve printserver",
"10.1.5.151 cachemgr.mppee.gob.ve cachemgr",
"10.1.5.151 cachegraphs.mppee.gob.ve cachegraphs",
"10.1.5.151 proxy.mppee.gob.ve proxy",
"10.1.5.206 proyectos.mppee.gob.ve proyectos",
"10.1.5.130 puppetmaster.mppee.gob.ve puppetmaster",
"10.1.5.133 puppetmaster-servers.mppee.gob.ve puppetmaster-servers",
"10.1.5.222 randomness.mppee.gob.ve randomness",
"10.1.5.100 rc05.mppee.gob.ve rc05",
"10.1.5.17 relics.mppee.gob.ve relics",
"10.1.5.19 relics-i.mppee.gob.ve relics-i",
"10.1.5.159 respaldos.mppee.gob.ve respaldos",
"10.1.5.105 revolver.mppee.gob.ve revolver",
"10.200.87.162 richieray.mppee.gob.ve richieray",
"10.1.5.109 rpzbanned.mppee.gob.ve rpzbanned",
"10.1.5.144 rt.mppee.gob.ve rt",
"10.1.5.145 rt-mppee.mppee.gob.ve rt-mppee",
"10.200.87.174 rubenblades.mppee.gob.ve rubenblades",
"10.1.5.153 rurounikenshin.mppee.gob.ve rurounikenshin",
"10.200.87.165 sahana.mppee.gob.ve sahana",
"10.200.87.161 samba.mppee.gob.ve samba",
"10.200.87.190 sapyc.mppee.gob.ve sapyc",
"10.1.5.100 sgtpepper.mppee.gob.ve sgtpepper",
"10.1.5.130 shishio.mppee.gob.ve shishio",
"10.40.4.50 SSS.mppee.gob.ve SSS",
"10.1.5.151 proxyreports.mppee.gob.ve proxyreports",
"10.1.5.151 squidlook.mppee.gob.ve squidlook",
"10.1.5.151 stats-proxy.mppee.gob.ve stats-proxy",
"10.1.5.152 supersonicos.mppee.gob.ve supersonicos",
"10.1.5.145 svn.mppee.gob.ve svn",
"10.1.5.120 tercerizados.mppee.gob.ve tercerizados",
"10.1.5.23 test.mppee.gob.ve test",
"10.1.5.100 testmail.mppee.gob.ve testmail",
"10.1.5.180 thebeatles.mppee.gob.ve thebeatles",
"10.200.87.150 thefinalcut.mppee.gob.ve thefinalcut",
"10.200.87.150 octopussy.mppee.gob.ve octopussy",
"10.200.87.141 thewall.mppee.gob.ve thewall",
"10.200.87.164 titopuente.mppee.gob.ve titopuente",
"10.200.87.145 ummagumma.mppee.gob.ve ummagumma",
"10.1.5.105 usuarios.mppee.gob.ve usuarios",
"10.1.5.242 valquiria.mppee.gob.ve valquiria",
"10.200.87.120 venezuela.mppee.gob.ve venezuela",
"10.1.5.146 vilma.mppee.gob.ve vilma",
"10.1.5.245 voluspa.mppee.gob.ve voluspa",
"10.1.5.243 wagner.mppee.gob.ve wagner",
"10.1.5.244 webdav.mppee.gob.ve webdav",
"167.175.135.20 webgas.mppee.gob.ve webgas",
"10.1.5.179 webgraphs.mppee.gob.ve webgraphs",
"10.1.5.127 rrd2.mppee.gob.ve rrd2",
"10.1.5.127 rrd2.mail.mppee.gob.ve rrd2.mail",
"10.1.5.127 mailgraphs.mppee.gob.ve mailgraphs",
"10.1.5.127 webmail.mppee.gob.ve webmail",
"10.200.87.175 portal.mppee.gob.ve portal",
"10.200.87.175 www.mppee.gob.ve www",
"10.1.5.131 yahiko.mppee.gob.ve yahiko",
"10.200.87.107 yellowsubmarine.mppee.gob.ve yellowsubmarine",
"10.1.5.216 logs.mppee.gob.ve logs",
"10.1.5.104 ns1.opsis.org.ve ns1",
"10.1.5.121 ns2.opsis.org.ve ns2",
"10.1.5.100 smtp01.opsis.org.ve smtp01",
"10.200.87.141 www.opsis.org.ve www"
        };

    # Template for ptr.conf file
    "ptr" string => "ptr-record=100.5.1.10.in-addr.arpa,sgtpepper.mppee.gob.ve
ptr-record=131.5.1.10.in-addr.arpa,yahiko.mppee.gob.ve
ptr-record=151.5.1.10.in-addr.arpa,cache1.mppee.gob.ve
ptr-record=172.5.1.10.in-addr.arpa,portal.mppee.gob.ve
ptr-record=174.5.1.10.in-addr.arpa,intranet.mppee.gob.ve
ptr-record=230.5.1.10.in-addr.arpa,logger.mppee.gob.ve
ptr-record=238.5.1.10.in-addr.arpa,azazel.mppee.gob.ve
ptr-record=34.4.40.10.in-addr.arpa,orinococi.mppee.gob.ve
ptr-record=100.5.1.10.in-addr.arpa,sgtpepper.mppee.gob.ve
ptr-record=131.5.1.10.in-addr.arpa,yahiko.mppee.gob.ve
ptr-record=151.5.1.10.in-addr.arpa,cache1.mppee.gob.ve
ptr-record=172.5.1.10.in-addr.arpa,portal.mppee.gob.ve
ptr-record=174.5.1.10.in-addr.arpa,intranet.mppee.gob.ve";

    # Template for mx.conf file
    "mx" string => "mx-host=correo.mppee.gob.ve.10.in-addr.arpa,10.in-addr.arpa,10
mx-host=smtp01.fundelec.gob.ve,fundelec.gob.ve,10
mx-host=mail.mppee.gob.ve,mppee.gob.ve,10
mx-host=smtp01.opsis.org.ve,opsis.org.ve,10
mx-host=correo.mppee.gob.ve.10.in-addr.arpa,10.in-addr.arpa,10";

    # Template for cname.conf file
    "cname" string => "cname=acsi.mppee.gob.ve,caracas.mppee.gob.ve
cname=bienes.mppee.gob.ve,wagner.mppee.gob.ve
cname=bienestarsocial.mppee.gob.ve,caracas.mppee.gob.ve
cname=capturafacilitadores.mppee.gob.ve,faraday.mppee.gob.ve
cname=cas.mppee.gob.ve,sapyc.mppee.gob.ve
cname=cei.mppee.gob.ve,caracas.mppee.gob.ve
cname=centrosdeacopio.mppee.gob.ve,azazel.mppee.gob.ve
cname=disciplinasdeportivas.mppee.gob.ve,faraday.mppee.gob.ve
cname=evaluaciondesempeno.mppee.gob.ve,caracas.mppee.gob.ve
cname=evaluacionobrero.mppee.gob.ve,caracas.mppee.gob.ve
cname=eventosoperativos.mppee.gob.ve.mppee.gob.ve,caracas.mppee.gob.ve
cname=fidelz-compras.mppee.gob.ve,adalbertosantiago.mppee.gob.ve
cname=fidelz-recibospago.mppee.gob.ve,adalbertosantiago.mppee.gob.ve
cname=fidelz-reportessigefirrhh.mppee.gob.ve,adalbertosantiago.mppee.gob.ve
cname=fidelz-tesoreria.mppee.gob.ve,adalbertosantiago.mppee.gob.ve
cname=fiscalizacioncomunal.mppee.gob.ve,justobetancurt.mppee.gob.ve
cname=gpasoelec.mppee.gob.ve,caracas.mppee.gob.ve
cname=inventariotecnologia.mppee.gob.ve,nibelungo.mppee.gob.ve
cname=jornadaradion.mppee.gob.ve,merida.mppee.gob.ve
cname=jornadaseguridad.mppee.gob.ve,faraday.mppee.gob.ve
cname=mesatrabajo.mppee.gob.ve,justobetancurt.mppee.gob.ve
cname=munin.mppee.gob.ve,echoes.mppee.gob.ve
cname=paginasblancas.mppee.gob.ve,faraday.mppee.gob.ve
cname=pedidoscajaahorro.mppee.gob.ve,faraday.mppee.gob.ve
cname=prestamos.mppee.gob.ve,faraday.mppee.gob.ve
cname=recibospago.mppee.gob.ve,faraday.mppee.gob.ve
cname=registrocongresouree.mppee.gob.ve,justobetancurt.mppee.gob.ve
cname=reportesimpresion.mppee.gob.ve,faraday.mppee.gob.ve
cname=reportessigefirrhh.mppee.gob.ve,faraday.mppee.gob.ve
cname=reportesvisitantes.mppee.gob.ve,faraday.mppee.gob.ve
cname=requisiciones.mppee.gob.ve,faraday.mppee.gob.ve
cname=sac.mppee.gob.ve,caracas.mppee.gob.ve
cname=sigeco.mppee.gob.ve,faraday.mppee.gob.ve
cname=wiki.mppee.gob.ve,debmirror.mppee.gob.ve
cname=acsiprueba.mppee.gob.ve,wagner.mppee.gob.ve
cname=auditoria.mppee.gob.ve,caracas.mppee.gob.ve
cname=auditoriaprueba.mppee.gob.ve,wagner.mppee.gob.ve
cname=cas-cen.mppee.gob.ve,sapyc.mppee.gob.ve
cname=compras.mppee.gob.ve,faraday.mppee.gob.ve
cname=corpoelecindustrial.mppee.gob.ve,mesadetrabajos.mppee.gob.ve
cname=corpoelecindustrial.mppee.gob.ve,mesadetrabajo.mppee.gob.ve
cname=corpoelecindustrial.mppee.gob.ve,mesatrabajo.mppee.gob.ve
cname=correo.mppee.gob.ve,webmail.mppee.gob.ve
cname=divisionbell-dashboard.mppee.gob.ve,divisionbell-db.mppee.gob.ve
cname=eddiepalmieri.mppee.gob.ve,smtp02.mppee.gob.ve
cname=faraday.mppee.gob.ve,thebeatles.mppee.gob.ve
cname=ftp.mppee.gob.ve,lovemedo.mppee.gob.ve
cname=imap.mppee.gob.ve,imap01.mppee.gob.ve
cname=imap02.mppee.gob.ve,letitbe.mppee.gob.ve
cname=intrakoha.mppee.gob.ve,apure.mppee.gob.ve
cname=correspondenciacorpoelec.mppee.gob.ve,faraday.mppee.gob.ve
cname=koha.mppee.gob.ve,apure.mppee.gob.ve
cname=ldap.mppee.gob.ve,ldap01.mppee.gob.ve
cname=ldap.mppee.gob.ve,ldap02.mppee.gob.ve
cname=modpresupuesto.mppee.gob.ve,caracas.mppee.gob.ve
cname=proyectosatit.mppee.gob.ve,faraday.mppee.gob.ve
cname=pruebacofres.mppee.gob.ve,wagner.mppee.gob.ve
cname=pruebasidea.mppee.gob.ve,wagner.mppee.gob.ve
cname=pruebastesoreria.mppee.gob.ve,faraday.mppee.gob.ve
cname=punto.mppee.gob.ve,faraday.mppee.gob.ve
cname=rt4.mppee.gob.ve,faraday.mppee.gob.ve
cname=sidea.mppee.gob.ve,faraday.mppee.gob.ve
cname=sie.mppee.gob.ve,vilma.mppee.gob.ve
cname=sig.mppee.gob.ve,vilma.mppee.gob.ve
cname=smtp.mppee.gob.ve,smtp01.mppee.gob.ve
cname=smtp02.mppee.gob.ve,letitbe.mppee.gob.ve
cname=tesoreria.mppee.gob.ve,thebeatles.mppee.gob.ve
cname=tesoreria-auditoria.mppee.gob.ve,faraday.mppee.gob.ve
cname=wasowski.mppee.gob.ve,revolver.mppee.gob.ve
cname=winpdgee01.mppee.gob.ve,titopuente.mppee.gob.ve";

    # Template for srv.conf file
    "srv" string => "srv-host=_ldap._tcp.dc._msdcs.mppee.gob.ve,ldap.mppee.gob.ve,389,100
srv-host=_ldap._tcp.mppee.gob.ve,ldap.mppee.gob.ve,389,100";

    # Template for txt.conf file
    "txt" slist => {
"txt-record=238.5.1.10.in-addr.arpa,Sistema DOLIBAR. azazel",
"txt-record=mppee.gob.ve,v=spf1 mx -all",
"txt-record=acsi.mppee.gob.ve,maquina virtual de hostname caracas",
"txt-record=bienes.mppee.gob.ve,Sistema de Bienes",
"txt-record=bienestarsocial.mppee.gob.ve,Aplicacion para RRHH de bienestarsocial",
"txt-record=capturafacilitadores.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=cas.mppee.gob.ve,CAS para el SAPYC",
"txt-record=cei.mppee.gob.ve,maquina virtual de hostname caracas",
"txt-record=centrosdeacopio.mppee.gob.ve,maquina virtual de hostname azazel",
"txt-record=disciplinasdeportivas.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=evaluacionobrero.mppee.gob.ve,maquina virtual de hostname caracsa",
"txt-record=eventosoperativos.mppee.gob.ve.mppee.gob.ve,maquina virtual de hostname caracas",
"txt-record=fidelz-compras.mppee.gob.ve,Sistema de compras para el FIDELZ",
"txt-record=fidelz-recibospago.mppee.gob.ve,Sistema de recibos de pago para el FIDELZ",
"txt-record=fidelz-reportessigefirrhh.mppee.gob.ve,Sistema de resportes sigefirrhh para el FIDELZ",
"txt-record=fidelz-tesoreria.mppee.gob.ve,Sistema de tesoreria para el FIDELZ",
"txt-record=fiscalizacioncomunal.mppee.gob.ve,maquina virtual de hostname justobetancurt",
"txt-record=gestiondocumental.mppee.gob.ve,Sistema Gestion",
"txt-record=gpasoelec.mppee.gob.ve,maquina virtual de hostname caracas",
"txt-record=inventariotecnologia.mppee.gob.ve,maquina virtual de hostname odin",
"txt-record=jornadaradion.mppee.gob.ve,Pagina Jornada sobre Radiaciones",
"txt-record=jornadaseguridad.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=mesatrabajo.mppee.gob.ve,Sistema de Mesas de Trabajo",
"txt-record=munin.mppee.gob.ve,Sistema de monitoreo Munin",
"txt-record=paginasblancas.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=pedidoscajaahorro.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=prestamos.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=proyectogeneracion.mppee.gob.ve,Webdav",
"txt-record=recibospago.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=registrocongresouree.mppee.gob.ve,Sistema de registro para el congreso UREE",
"txt-record=reportesimpresion.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=reportessigefirrhh.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=reportesvisitantes.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=requisiciones.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=sac.mppee.gob.ve,Aplicacion Sistemas - Mary - Maquina virtual de hostname caracas",
"txt-record=sigeco.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=sucre.mppee.gob.ve,Servidor FUNDELEC",
"txt-record=wiki.mppee.gob.ve,Dokuwiki del MPPEE en thewall",
"txt-record=eortega.mppee.gob.ve,5002:DC1B EORTEGA",
"txt-record=bt.mppee.gob.ve,iLo Dom0 Beatles",
"txt-record=fn.mppee.gob.ve,iLo Dom0 Fania",
"txt-record=lto.mppee.gob.ve,MSL2024",
"txt-record=pk.mppee.gob.ve,iLo Dom0 Pinkfloyd",
"txt-record=san.mppee.gob.ve,SAN",
"txt-record=swfc.mppee.gob.ve,Switch Fiber Channel",
"txt-record=abbeyroad.mppee.gob.ve,Servidor Desarrollo",
"txt-record=acsiprueba.mppee.gob.ve,maquina virtual de hostname wagner",
"txt-record=adalbertosantiago.mppee.gob.ve,dokuwiki",
"txt-record=aharddaysnight.mppee.gob.ve,Proxy Nodo 02",
"txt-record=amon.mppee.gob.ve,Servidor que aloja Jabber",
"txt-record=ampere.mppee.gob.ve,Dom0 de maquinas virtuales",
"txt-record=andymontanez.mppee.gob.ve,NTP Interno 2 ",
"txt-record=animals.mppee.gob.ve,Servidor MDA",
"txt-record=apure.mppee.gob.ve,VM del grupo de Sistemas para el koha dentro del dom0 Venezuela",
"txt-record=astro.mppee.gob.ve,Servidor Openldap 2",
"txt-record=atomheartmother.mppee.gob.ve,servidor para CATMENEL",
"txt-record=auditoria.mppee.gob.ve,Servicio de Auditoria - DomU Caracas",
"txt-record=auditoriaprueba.mppee.gob.ve,maquina virtual de hostname wagner",
"txt-record=azazel.mppee.gob.ve,Sistema DOLIBARR",
"txt-record=bacula.mppee.gob.ve,domU heisenberg ubicado en dom0 cuantica",
"txt-record=beatles.mppee.gob.ve,dom0 - Beatles",
"txt-record=beatlesforsale.mppee.gob.ve,Caja de Ahorro",
"txt-record=bello.mppee.gob.ve,Servidor Desarrollo",
"txt-record=belphegor.mppee.gob.ve,DomU de daemons. Maquina virtual de FUNDELEC",
"txt-record=blanco.mppee.gob.ve,Servidor Desarrollo",
"txt-record=bobbycruz.mppee.gob.ve,Servidor Samba",
"txt-record=bobbyvalentin.mppee.gob.ve,rancid y scripts ",
"txt-record=boo.mppee.gob.ve,Servidor DNS 1 - DHCP",
"txt-record=cache1.mppee.gob.ve,Proxy Squid/Dans 1",
"txt-record=caos.mppee.gob.ve,Servidor dom0 CAOS",
"txt-record=caracas.mppee.gob.ve,VM del grupo de Sistemas",
"txt-record=cas-cen.mppee.gob.ve,maquina virtual para sapyc",
"txt-record=compras.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=concursos.mppee.gob.ve,Sistema Concursos",
"txt-record=congresoureerpp.mppee.gob.ve,Congreso UREE",
"txt-record=corpoelecindustrial.mppee.gob.ve,VM del grupo de Sistemas",
"txt-record=cosmo.mppee.gob.ve,Servidor DNS 2 - DHCP Slave",
"txt-record=cups.mppee.gob.ve,Servidor de impresion (CUPS)",
"txt-record=daemons.mppee.gob.ve,Dom0",
"txt-record=dario.mppee.gob.ve,Servidor Desarrollo",
"txt-record=db.mppee.gob.ve,maquina virtual de hostname db",
"txt-record=dino.mppee.gob.ve,Mirrors",
"txt-record=divisionbell.mppee.gob.ve,Nuevo servidor puppetmaster clientes",
"txt-record=divisionbell-dashboard.mppee.gob.ve,maquina virtual puppetdb y puppet-dashboard para puppet clientes",
"txt-record=divisionbell-db.mppee.gob.ve,Servidor puppetDB para puppetmaster",
"txt-record=divisionbell-mc.mppee.gob.ve,Servidor mcollective para puppetmaster clientes",
"txt-record=documentos.mppee.gob.ve,Servidor de knowledgetree con hostname knowledgetree",
"txt-record=dvscse.mppee.gob.ve,wevDAV para las personas de dvscse",
"txt-record=echoes.mppee.gob.ve,domU - pinkfloyd",
"txt-record=eddiepalmieri.mppee.gob.ve,Servidor MDA",
"txt-record=einstein.mppee.gob.ve,Maquina virtual dentro de relatividad",
"txt-record=elfo.mppee.gob.ve,Servidor ubicado en Odin para webdav",
"txt-record=fania.mppee.gob.ve,Dom0 - Fania",
"txt-record=faraday.mppee.gob.ve,maquina virtual de hostname thebeatles",
"txt-record=fermat.mppee.gob.ve,Dom0 de maquinas virtuales con hostname fermat",
"txt-record=fractal.mppee.gob.ve,Maquina virtual que contiene el wiki",
"txt-record=ftp.mppee.gob.ve,Maquina virtual para el FTP del MPPEE",
"txt-record=glpi.mppee.gob.ve,Servidor alias a nibelungo dentro de daemons",
"txt-record=help.mppee.gob.ve,Puppet Master Servidores",
"txt-record=help-db.mppee.gob.ve,Puppet Master Servidores DB",
"txt-record=help-mc.mppee.gob.ve,Puppet Master Servidores MC",
"txt-record=highhopes.mppee.gob.ve,webmail nueva version de roundcube",
"txt-record=hikoseijuro.mppee.gob.ve,Servidor Foreman - Puppet",
"txt-record=intrakoha.mppee.gob.ve,Maquina virtual de hostname apure dentro de Venezuela",
"txt-record=correspondenciacorpoelec.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=jabber.mppee.gob.ve,domU amon at daemons",
"txt-record=jhonnydandy.mppee.gob.ve,Proxy Reverso Portal Web",
"txt-record=jimmybosh.mppee.gob.ve,NTP Interno 1 ",
"txt-record=johnnypacheco.mppee.gob.ve,RADIUS/TACACS ",
"txt-record=jparedes.mppee.gob.ve,SP4-D29C JParedes",
"txt-record=justobetancurt.mppee.gob.ve,Sistema para Corpoelec Industrial",
"txt-record=koha.mppee.gob.ve,Maquina virtual de hostname apure dentro de Venezuela",
"txt-record=kolmogorov.mppee.gob.ve,domU at caos",
"txt-record=letitbe.mppee.gob.ve,Servidor MDA",
"txt-record=lintpc02.mppee.gob.ve,Test Puppet Client 02",
"txt-record=lovemedo.mppee.gob.ve,VM del grupo de Sistemas para el ftp",
"txt-record=lucifer.mppee.gob.ve,domU de daemons",
"txt-record=lyapunov.mppee.gob.ve,Servidor FTP",
"txt-record=maxwell.mppee.gob.ve,dom0 de maquinas virtuales con hostname maxwell",
"txt-record=mcusds.mppee.gob.ve,Sistema de Gestion Sala Situacion",
"txt-record=meddle.mppee.gob.ve,Maquina virtual para NS3 interno",
"txt-record=merida.mppee.gob.ve,Servidor que aloja WebGUI",
"txt-record=modpresupuesto.mppee.gob.ve,Servicio de Presupuesto - DomU Caracas",
"txt-record=monstersinc.mppee.gob.ve,Dom0",
"txt-record=mppee.gob.ve.amon,domU at daemons",
"txt-record=mx01.mppee.gob.ve,Servidor MX",
"txt-record=nibelungo.mppee.gob.ve,Maquina virtual dentro de odin",
"txt-record=nickymarrero.mppee.gob.ve,PAGINA WEB FUNDACION ZAMBRANO",
"txt-record=nonlinear.mppee.gob.ve,Maquina virtual dentro de CAOS",
"txt-record=odin.mppee.gob.ve,Servidor fisico dom0",
"txt-record=sapmsPRD.mppee.gob.ve,Servidor SAP en CORPOELEC",
"txt-record=osiris.mppee.gob.ve,Dom0 maxwell",
"txt-record=papolucca.mppee.gob.ve,DomU",
"txt-record=picapiedras.mppee.gob.ve,Dom0",
"txt-record=pinkfloyd.mppee.gob.ve,dom0 - PinkFloyd",
"txt-record=poetas.mppee.gob.ve,dom0 - Poetas",
"txt-record=proyectosatit.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=pruebacofres.mppee.gob.ve,maquina virtual de hostname wagner",
"txt-record=pruebasidea.mppee.gob.ve,maquina virtual de hostname wagner",
"txt-record=pruebastesoreria.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=punto.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=relics.mppee.gob.ve,Proxy Nodo 01",
"txt-record=relics-i.mppee.gob.ve,Ldirector Proxy",
"txt-record=respaldos.mppee.gob.ve,Equipo de respaldos (bacula)",
"txt-record=revolver.mppee.gob.ve,Servidor OpenLDAP",
"txt-record=richieray.mppee.gob.ve,DNS Interno",
"txt-record=rt4.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=rubenblades.mppee.gob.ve,OpenLdap Server",
"txt-record=rurounikenshin.mppee.gob.ve,Dom0",
"txt-record=sahana.mppee.gob.ve,Sistema sahana",
"txt-record=samba.mppee.gob.ve,Servidor Samba alojado en Caos",
"txt-record=sgtpepper.mppee.gob.ve,Servidor MX",
"txt-record=shishio.mppee.gob.ve,Servidor Puppetmaster 1",
"txt-record=sidea.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=sie.mppee.gob.ve,maquina virtual de hostname odin",
"txt-record=sig.mppee.gob.ve,maquina virtual de hostname odin",
"txt-record=SSS.mppee.gob.ve,Servidor Servicios WEB Sistema de Solicitud de Servicios en EDELCA",
"txt-record=supersonicos.mppee.gob.ve,Dom0",
"txt-record=tesoreria.mppee.gob.ve,maquina virtual de hostname thebeatles",
"txt-record=tesoreria-auditoria.mppee.gob.ve,maquina virtual de hostname faraday",
"txt-record=test.mppee.gob.ve,asd",
"txt-record=thebeatles.mppee.gob.ve,Servidor the beatles  Aplicaciones",
"txt-record=thefinalcut.mppee.gob.ve,servidor de logs",
"txt-record=thewall.mppee.gob.ve,Nuevo servidor debmirror",
"txt-record=titopuente.mppee.gob.ve,DNS Interno",
"txt-record=ummagumma.mppee.gob.ve,VM del grupo de Sistemas para la nueva DB de SIE",
"txt-record=valquiria.mppee.gob.ve,domU en odin - solicitado por joel",
"txt-record=venezuela.mppee.gob.ve,dom0 - Venezuela",
"txt-record=vilma.mppee.gob.ve,Maquina virtual para grupo de desarrolladores solicitada por gomez",
"txt-record=voluspa.mppee.gob.ve,Maquina virtual dentro de Odin",
"txt-record=wagner.mppee.gob.ve,Webdav",
"txt-record=wasowski.mppee.gob.ve,maquina virtual de hostname revolver",
"txt-record=webdav.mppee.gob.ve,Alias a elfo",
"txt-record=webgas.mppee.gob.ve,Servicio WEBGAS PDVSA",
"txt-record=winpdgee01.mppee.gob.ve,DomU Win7 DGEE",
"txt-record=yahiko.mppee.gob.ve,Rancid",
"txt-record=yellowsubmarine.mppee.gob.ve,Servidor de impresion (CUPS)",
"txt-record=logs.mppee.gob.ve,Servidor de bitacoras centralizado."
        };

packages:
    internal_dns::
        "$(desired_packages)"
            package_policy => "add",
            package_method => apt,
            classes => if_ok("dnsmasq_installed"),
            action => "log";

classes:
    "internal_dns" expression => classmatch("$(hostname_internal_dns).*");

files:
    dnsmasq_installed::
      "$(prefix)/dnsmasq.conf"
          create => "true",
          comment => "Verifica y repara los valores en el archivo dnsmasq.conf",
          edit_line => set_variable_values("dnsmasq.dnsmasq"),
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/ptr.conf"
          create => "true",
          edit_line => append_if_no_lines("$(ptr)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/mx.conf"
          create => "true",
          edit_line => append_if_no_lines("$(mx)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/cname.conf"
          create => "true",
          edit_line => append_if_no_lines("$(cname)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/srv.conf"
          create => "true",
          edit_line => append_if_no_lines("$(srv)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/resolv.conf"
          create => "true",
          edit_line => insert_lines("$(resolv)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/settings.conf"
          create => "true",
          edit_line => insert_lines("$(settings)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/forwarders.conf"
          create => "true",
          edit_line => insert_lines("$(forwarders)"),
          edit_defaults => empty,
          classes => if_repaired("dnsmasq_configured"),
          action => "log";

      "$(prefix)/dnsmasq.d/txt.conf"
          delete => tidy,
          classes => if_ok("done_txt");

      done_txt::
          "$(prefix)/dnsmasq.d/txt.conf"
              create => "true",
              edit_line => insert_lines("$(txt)"),
              classes => if_repaired("dnsmasq_configured"),
              action => "log";

      "$(prefix)/hosts"
          delete => tidy,
          classes => if_ok("done_hosts");

      done_hosts::
          "$(prefix)/hosts"
              create => "true",
              edit_line => insert_lines("$(hosts)"),
              classes => if_repaired("dnsmasq_configured"),
              action => "log";

commands:
	dnsmasq_configured::
		"/etc/init.d/dnsmasq restart"
            handle  =>  "restart dnsmasq",
            comment =>  "Reiniciando el dnsmasq",
            classes =>  if_repaired("done");

reports:
    dnsmasq_installed::
        "dnsmasq Installed";

    dnsmasq_configured::
        "dnsmasq configured";
}
